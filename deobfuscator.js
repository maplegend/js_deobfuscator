function _0x1c8d() {
    var n = ["yxbW", "vZVcMG", "mJi4ndeYt1HvC0vH", "Bg9J", "W5dcVxy", "W6fmnW", "CgXL", "Cw4EWRpdHCoSWPNdPG", "WO1AW78", "C3bH", "zd8h", "WRrEhq", "AhrT", "zgvM", "CMfU", "o1Tm", "W5/cHrtcKvWMW6S0", "W6JcUmkn", "ztlcUa", "Bwr0", "u3rY", "imkimW", "WQ9gW6m", "q2jm", "zgvI", "E8o5zq", "zMLS", "wCkzcG", "y29V", "ACozWQG", "A2DY", "lSoaCa", "p8kYxa", "iCkVW68", "rw5N", "g8kena", "C3rY", "Bgf5", "W64DFa", "y2XP", "WQHgW6m", "W7mwhq", "WQXygW", "ze9W", "DfnP", "WOZdNY0", "zxHW", "C291", "W4eNtG", "y2fW", "WPyXrq", "z2H0", "Dg9N", "C2vL", "qwDL", "sxfV", "rmoInW", "wwPt", "vM9S", "txv0", "rNvS", "rCkmWPy", "sxrL", "fCk0CfvYz8k0c8kqFCotWQ8", "qCoOjW", "zc0h", "W4rAW6FcQJ3dPmoGEa", "yxv0", "q2HH", "W7aegW", "BNvu", "ofTA", "EuXL", "W6OFvG", "x8orwG", "W5NcSNW", "ndGW", "uxvH", "C29S", "u0jZ", "AxjL", "AmotW5m", "WQeXvq", "DMLK", "ExnI", "WPJdLs0", "DgvZ", "q29K", "A8oZEW", "r2fM", "mZaZmZm0mKTOB2LnAG", "js4/", "zg9U", "WP0Nya", "muFcMa", "WQzIhq", "Ag92", "Bg9N", "rSoJvW", "WQzldG", "CxvL", "WR3dNmk+", "s8kuaq", "ywXP", "us/dKW", "WRBcVce", "s8odW50", "tYdcNW", "wmozDq", "sgvS", "gmk4EW", "BgLZ", "DxnZ", "nJiZnJmWwfnYshnN", "BMXV", "n8oeCa", "sIFcJW", "DxjH", "r8oImq", "WP8kW4q", "W50NtW", "AxzL", "B25J", "wmkWrq", "ANnV", "WOpdOGO", "pg9D", "WO1zW7a", "yMvY", "gN1j", "t0XX", "yCo/Fq", "vZhcRG", "W73dPSoW", "ss/dMq", "Dff1", "sgLN", "wbFdJW", "ch1K", "wmkaWOC", "W5pcRCk4", "Bgv2", "W5ZcQ28", "WRldKmkU", "k3ldGG", "CMnO", "W63dRSkb", "CMvH", "WOhdMsy", "W7WCBa", "W5WZxW", "W6JcNWO", "W54JtG", "tmoWuW", "WPCSW5W", "W4hdIXm", "C2v0", "WQT4ca", "DNnn", "qXVdMq", "y29U", "ndjiAevlvwW", "zCo5EG", "W6FdRSky", "z2v0", "pSkZta", "CMnL", "WQFdRSoM", "nZiW", "AxrP", "W7RcH8oY", "ndmJ", "DgzH", "ywXf", "Aw5M", "Dw5K", "ANDW", "zwXZ", "WO9CW78", "xYuo", "Bwf4", "q2XH", "y2f0", "zshcLq", "gLldQG", "B2j0", "pCkzpq", "Dw1L", "W6JdPmkm", "yNvM", "pSkola", "B3n0", "o1Tn", "W5NcRNy", "W5VcGHdcRhavW50y", "xmo7WOe", "W4z7WPVdUCopW7pcGSoWWQCVWP5o", "W6RdOx5cW7inpSo+FCojh8o2W7u", "gxrC", "DLDM", "BhnJ", "r3Do", "nSk+iG", "vM5Z", "B3bL", "WOa3va", "ywDH", "WR0dxa", "ESodyq", "yxj0", "dN1j", "sZJdMa", "of9D", "mvjn", "WOaAW5u", "zwrN", "mte2nZi0odbxwu12EKi", "WPqOW7e", "DSkkvq", "W5hcUwS", "DCojW7i", "q3vY", "ASonW7a", "AIab", "WRtdNSkV", "WQDIcq", "umoYia", "WPioW5W", "y2HL", "BwLS", "zMXP", "DgLV", "WQNdLSk/", "u3rV", "mtaW", "sSoaW5e", "aCk0ma", "BgL0", "W441sq", "CMvL", "o8oezG", "m8kYwW", "r1LS", "z3nv", "y29S", "CMvW", "mSozyq", "uhfr", "W6VcJSo+W5S3m13dQCoXWRtdR8oi", "fdqK", "WOZdLSkS", "WRXtdG", "deJcLq", "zM9U", "BwvK", "hMddQq", "w8ojzW", "W4f2bq", "Dgv4", "CgfY", "BgvU", "tY7dUW", "BMvY", "zgf0", "lSoFzG", "C2vK", "suzw", "WOldQmoL", "q8oyW7q", "DMvS", "W7ymdG", "DgHP", "l1TC", "AwX0", "DCodW6i", "W5i0Eq", "ELVcVG", "W7pdRCku", "Bxzi", "y0ZcNW", "ywvz", "W6hcSZq", "h8k1ua", "nJmZodq4zhPAEgLi", "FSoIEW", "yxrP", "gN1p", "pSkMEW", "W6NcRCkl", "vmoGBG", "y2vZ", "y2XL", "AtVcRW", "dSkGFW", "zwfT", "W7VcLqS", "W5NdRmkt", "WRVdISk5", "ESokW44", "mCkYkG", "Cg9Z", "y1Lg", "uCkBca", "WPa3qW", "vMfQ", "AZVcLW", "tHFdJJhdNdyTb3dcPt3dHa", "kSkMFW", "W7Cdeq", "WRFdGYS", "zSkjuq", "W7uada", "WP5sW7y", "sYqc", "WPiMwa", "WQLkqmoMWRBcGSo0sa", "twvZ", "WQNdJI4", "tZJdMa", "rd0g", "zMLN", "n8oeFa", "wsaa", "DMvY"];
    _0x1c8d = function() {
        return n
    }
    ;
    return _0x1c8d()
}

(function(n, t) {
    var r = _0x1151
      , e = _0x4b8a
      , o = n();
      console.log('call first')
    while (!![]) {
        try {
            var a = parseInt(e(569, "UWPp")) / 1 + -parseInt(e(355, "lHZd")) / 2 * (parseInt(e(567, "!(Ho")) / 3) + -parseInt(r(375)) / 4 * (-parseInt(e(439, "QAv3")) / 5) + parseInt(r(463)) / 6 + -parseInt(e(364, "m@HG")) / 7 * (parseInt(r(332)) / 8) + parseInt(e(570, "n7Qp")) / 9 + -parseInt(r(265)) / 10;
            if (a === t) {
                console.log('done')
                break;
            }
            else
                o["push"](o["shift"]())
        } catch (n) {
            o["push"](o["shift"]())
        }
    }
}
)(_0x1c8d, 365239)
function _0x4b8a(c, n) {
    //console.log('call orig', c, n)
    var W = _0x1c8d();
    return _0x4b8a = function(n, t) {
        n = n - 256;
        var r = W[n];
        if (_0x4b8a["fFSKpA"] === undefined) {
            var u = function(n) {
                var t = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";
                var r = ""
                  , e = "";
                for (var o = 0, a, i, c = 0; i = n["charAt"](c++); ~i && (a = o % 4 ? a * 64 + i : i,
                o++ % 4) ? r += String["fromCharCode"](255 & a >> (-2 * o & 6)) : 0) {
                    i = t["indexOf"](i)
                }
                for (var u = 0, W = r["length"]; u < W; u++) {
                    e += "%" + ("00" + r["charCodeAt"](u)["toString"](16))["slice"](-2)
                }
                //debugger;
                return decodeURIComponent(e)
            };
            var e = function(n, t) {
                var r = [], e = 0, o, a = "";
                n = u(n);
                var i;
                for (i = 0; i < 256; i++) {
                    r[i] = i
                }
                for (i = 0; i < 256; i++) {
                    e = (e + r[i] + t["charCodeAt"](i % t["length"])) % 256,
                    o = r[i],
                    r[i] = r[e],
                    r[e] = o
                }
                i = 0,
                e = 0;
                for (var c = 0; c < n["length"]; c++) {
                    i = (i + 1) % 256,
                    e = (e + r[i]) % 256,
                    o = r[i],
                    r[i] = r[e],
                    r[e] = o,
                    a += String["fromCharCode"](n["charCodeAt"](c) ^ r[(r[i] + r[e]) % 256])
                }
                return a
            };
            _0x4b8a["HSxDJE"] = e,
            c = arguments,
            _0x4b8a["fFSKpA"] = !![]
        }
        var o = W[0]
          , a = n + o
          , i = c[a];
        var tmp = !i ? (_0x4b8a["qDRrUV"] === undefined && (_0x4b8a["qDRrUV"] = !![]),
        r = _0x4b8a["HSxDJE"](r, t),
        c[a] = r) : r = i,
        r;
        //console.log('first decryptor')
        //console.log(c, n, tmp)
        return tmp
    }
    ,
    _0x4b8a(c, n)
}
function _0x1151(c, n) {
    var u = _0x1c8d();
    return _0x1151 = function(n, t) {
        n = n - 256;
        var r = u[n];
        if (_0x1151["FdCvzy"] === undefined) {
            var e = function(n) {
                var t = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";
                var r = ""
                  , e = "";
                for (var o = 0, a, i, c = 0; i = n["charAt"](c++); ~i && (a = o % 4 ? a * 64 + i : i,
                o++ % 4) ? r += String["fromCharCode"](255 & a >> (-2 * o & 6)) : 0) {
                    i = t["indexOf"](i)
                }
                for (var u = 0, W = r["length"]; u < W; u++) {
                    e += "%" + ("00" + r["charCodeAt"](u)["toString"](16))["slice"](-2)
                }
                return decodeURIComponent(e)
            };
            _0x1151["RRbVAW"] = e,
            c = arguments,
            _0x1151["FdCvzy"] = !![]
        }
        var o = u[0]
          , a = n + o
          , i = c[a];
        var tmp = !i ? (r = _0x1151["RRbVAW"](r),
        c[a] = r) : r = i,
        r
        //console.log('sec decryptor called')
        //console.log(n, t, tmp)
        //console.log(JSON.stringify(c))
        //console.log(c)
        if(n == 294) {
            console.log('found')
            console.log(JSON.stringify(c))
        }
        return tmp
    }
    ,
    _0x1151(c, n)
}

//console.log('decrypt')
//console.log(_0x1151(426))
const fs = require('fs')

function concatRegex(r1, r2) {
    return new RegExp(r1.source + r2.source, 
        (r1.global ? 'g' : '') 
        + (r1.ignoreCase ? 'i' : '') + 
        (r1.multiline ? 'm' : ''));
}

fs.readFile('script.js', 'utf8' , (err, data) => {
    if (err) {
      console.error(err)
      return
    }

    var strReg = /(((\".{3}\" \+ )+(\".{1,3}\"){1}))|(\"[^ ]{3}\"[^ ])/g

    var regex = /.\(\d{3}\)/g
    for(const r of data.match(regex)) {
        //console.log(r)
        data = data.replace(r, `\"${_0x1151(parseInt(r.substring(2,5)))}\"`)
    }

    var sec = /.\(\d{3}, \".{4}\"\)/g
    for(const r of data.match(sec)) {
        //console.log(r.substring(2,5) + r.substring(8,12))
        data = data.replace(r, `\"${_0x4b8a(parseInt(r.substring(2,5)), r.substring(8,12))}\"`)
    }

    var thr = /.\[\".{3}\" \+ \".{2}\"\]/g
    var tableReg = /(.\[(\".{3}\" \+ \".{2}\")\] \= (((\".{3}\" \+ )+(\".{1,3}\"){1})|(\"[^ ]{3}\"[^ ])))/g
    //concatRegex(/.\[(\".{3}\" \+ \".{2}\")\] \= /g, strReg)
    console.log(tableReg)
    var eTable = {}
    data.match(tableReg).forEach((r) => {
        var m = r.match(strReg)
        eTable[m[0]] = m[1].replace(',', '')
        //data = data.replace(r, '')
    })

    for(const r of data.match(thr)) {
        //console.log(r)
        if(eTable[r.match(strReg)[0]] == undefined) {
            //console.log('didnt match')
            //console.log(r.match(strReg)[0])
            //console.log(eTable[r.match(strReg)[0]])
        } else {
            data = data.replace(r, eTable[r.match(strReg)[0]]) 
        }
    }

    var varRe = /[^a-zA-Z"\|\(\)\-\|\]\[\.\/][A-Za-z0-0$_]{1,3}[^a-zA-Z0-9"\|\(\)\-\|\]\[\.\/\+]/g
    var fTable = /, ([A-Za-z0-0$_]{1,3} = [^{]*?\n*)+\;\n/g
    
    
    //console.log()
    //return
    fs.writeFile('deob_script.js', data, function (err) {
        if (err) return console.log(err);
        console.log('complete');
      });
  })
